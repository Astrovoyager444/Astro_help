<!doctype html>
<html lang="it">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Astro Meteo Check</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
<style>
  body {
    margin:0;
    font-family:'Poppins', sans-serif;
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    background:#000;
    overflow:hidden;
    color:#fff;
  }
  canvas {
    position:absolute;
    top:0; left:0;
    width:100%; height:100%;
    z-index:0;
  }
  .card {
    position:relative;
    z-index:1;
    background:rgba(255,255,255,0.05);
    backdrop-filter:blur(10px);
    padding:40px;
    border-radius:20px;
    text-align:center;
    box-shadow:0 8px 25px rgba(0,0,0,0.6);
    transform: perspective(800px) rotateX(3deg);
    animation: fadeIn 1.2s ease;
    width:320px;
  }
  .card h1 {
    font-weight:700;
    font-size:1.8rem;
    margin-bottom:20px;
    background: linear-gradient(90deg,#ffb347,#ffcc33);
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
  }
  form {
    display:flex;
    flex-direction:column;
    gap:12px;
  }
  input {
    padding:10px;
    border:none;
    border-radius:10px;
    font-size:1rem;
    text-align:center;
    background:rgba(255,255,255,0.1);
    color:#fff;
    outline:none;
  }
  input::placeholder {
    color:rgba(255,255,255,0.6);
  }
  button {
    padding:12px;
    border:none;
    border-radius:10px;
    font-size:1rem;
    font-weight:600;
    cursor:pointer;
    background: linear-gradient(90deg,#ffb347,#ffcc33);
    color:#111;
    margin-top:10px;
  }
  .result {
    margin-top:20px;
    padding:15px;
    border-radius:10px;
    font-size:1.1rem;
    font-weight:500;
  }
  .good { background:#2d6a4f; }
  .ok { background:#386641; }
  .warn { background:#b08900; }
  .bad { background:#9d0208; }
  @keyframes fadeIn {
    from { opacity:0; transform: translateY(30px) scale(0.9); }
    to { opacity:1; transform: translateY(0) scale(1); }
  }
</style>
</head>
<body>
<canvas id="stars"></canvas>

<div class="card">
  <h1>Astro Meteo</h1>
  <form id="astroForm">
    <input type="number" id="temp" placeholder="Temperatura ¬∞C" required>
    <input type="number" id="pressure" placeholder="Pressione hPa" required>
    <input type="number" id="humidity" placeholder="Umidit√† %" required>
    <input type="number" id="wind" placeholder="Vento km/h" required>
    <input type="number" id="clouds" placeholder="Nuvole %" required>
    <button type="submit">Analizza</button>
  </form>
  <div id="output" class="result"></div>
</div>

<script>
// Sfondo stellare animato
const canvas = document.getElementById("stars");
const ctx = canvas.getContext("2d");
let stars = [];
function resize() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
window.addEventListener("resize", resize);
resize();
function initStars() {
  stars = [];
  for (let i=0; i<150; i++) {
    stars.push({
      x: Math.random()*canvas.width,
      y: Math.random()*canvas.height,
      size: Math.random()*2,
      speed: 0.2 + Math.random()*0.5
    });
  }
}
function animateStars() {
  ctx.clearRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle = "white";
  stars.forEach(star => {
    ctx.beginPath();
    ctx.arc(star.x, star.y, star.size, 0, Math.PI*2);
    ctx.fill();
    star.y += star.speed;
    if(star.y > canvas.height) {
      star.y = 0;
      star.x = Math.random()*canvas.width;
    }
  });
  requestAnimationFrame(animateStars);
}
initStars();
animateStars();

// Analisi condizioni
document.getElementById("astroForm").addEventListener("submit", e=>{
  e.preventDefault();
  const t = parseFloat(document.getElementById("temp").value);
  const p = parseFloat(document.getElementById("pressure").value);
  const h = parseFloat(document.getElementById("humidity").value);
  const w = parseFloat(document.getElementById("wind").value);
  const c = parseFloat(document.getElementById("clouds").value);
  let score = 0;
  if(w <= 15) score += 2; else if(w <= 25) score += 1;
  if(c <= 20) score += 3; else if(c <= 40) score += 1;
  if(h <= 70) score += 2; else if(h <= 85) score += 1;
  if(p >= 1010) score += 2; else if(p >= 1000) score += 1;
  let msg="", cls="";
  if(score >= 7){ msg="üåü Ideale per osservazioni"; cls="good"; }
  else if(score >= 5){ msg="üôÇ Possibile, condizioni discrete"; cls="ok"; }
  else if(score >= 3){ msg="‚ö†Ô∏è Difficile, condizioni poco favorevoli"; cls="warn"; }
  else { msg="‚ùå Sconsigliata l‚Äôosservazione"; cls="bad"; }
  const out = document.getElementById("output");
  out.className = "result "+cls;
  out.innerHTML = msg + <br><small>(T=${t}¬∞C, P=${p}hPa, H=${h}%, Vento=${w}km/h, Nuvole=${c}%)</small>;
});
</script>
</body>
</html>
